define(["codemirror","local","htmlmixed","emmet","xml","css","javascript"],function(e,t,l,n){function r(e){if(e||"true"!==t(y)){var l=this.html.getValue(),n=this.css.getValue(),r=this.js.getValue(),m=window.frames[0].document;m.querySelector("body").innerHTML=l,a(m,n),s(m,r)}}function a(e,t){var l,n=e.createElement("style"),r=e.getElementsByTagName("HEAD")[0];n.type="text/css",n.innerHTML=t;var a=r.childNodes;for(l=0;l<a.length;l++)r.removeChild(a[l]);r.appendChild(n)}function s(e,t){var l=e.createElement("script");l.type="text/javascript",l.innerHTML=t,e.querySelector("body").appendChild(l)}function m(e){var l=document.getElementById("editors").style,n=document.getElementById("result").style,r=document.getElementById("play"),a="true"===t(y);return(e?!a:a)?(l.display="block",n.display="none",r.className="play",t(y,!1),!0):(l.display="none",n.display="block",r.className="stop",t(y,!0),!1)}function o(){"true"===t(y)&&(this.play(!0),m(!0))}var i=e.fromTextArea(document.getElementById("html"),{mode:"text/html",profile:"xhtml"}),c=e.fromTextArea(document.getElementById("css"),{mode:"css"}),d=e.fromTextArea(document.getElementById("javascript"),{mode:"javascript"});n(i);var y="isPlay";return{html:i,css:c,js:d,play:r,styleToggle:m,init:o}});